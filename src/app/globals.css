@import "tailwindcss";

:root {
  --header-bg: #1e3965;
  --header-text: #fff;
  --sidebar-bg: #1e3965;
  /* linear-gradient(180deg, #4a90e2, #357abd); */
  --sidebar-text: #fff;

  /* 按钮主题变量 */
  --button-primary-bg: #1e3965;
  --button-primary-text: #ffffff;
  --button-primary-hover: #2a4a75;

  /* 安全区域变量 - 默认 0px 以确保在不支持 env() 的旧机型上正常显示 */
  --safe-area-top: env(safe-area-inset-top, 0px);
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-left: env(safe-area-inset-left, 0px);
  --safe-area-right: env(safe-area-inset-right, 0px);
}

/* 基础样式优化 */
html {
  box-sizing: border-box;
  /* 防止移动端字体自动缩放 */
  -webkit-text-size-adjust: 100%;
  /* 移除移动端点击高亮蓝框 */
  -webkit-tap-highlight-color: transparent;
}

*,
*:before,
*:after {
  box-sizing: inherit;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  line-height: 1.5;
  /* 优化滚动 */
  -webkit-overflow-scrolling: touch;
}

/* 小程序环境自适应隐藏规则 */
/* 使用类选择器而不是 JSX 条件渲染，避免样式突跳和构建错误 */
.is-miniprogram .mp-hide {
  display: none !important;
}

/* 小程序环境下内容区域占满全屏 */
.is-miniprogram .mp-full-height {
  height: 100vh !important;
  height: 100dvh !important;
}

/* 移动端安全区域适配辅助类 */
.pb-safe {
  padding-bottom: var(--safe-area-bottom);
}

.pt-safe {
  padding-top: var(--safe-area-top);
}

.pl-safe {
  padding-left: var(--safe-area-left);
}

.pr-safe {
  padding-right: var(--safe-area-right);
}

.min-h-screen-safe {
  min-height: calc(100vh - var(--safe-area-top) - var(--safe-area-bottom));
}

/* 兼容性修复：旧版 Flexbox 溢出问题 */
.flex-1-safe {
  flex: 1 1 0%;
  min-height: 0;
}

/* 统一的主要操作按钮样式 - 使用主题颜色 */
.btn-primary {
  background-color: var(--button-primary-bg) !important;
  color: var(--button-primary-text) !important;
  border: none !important;
  transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out !important;
  font-weight: 500;
}

.btn-primary:hover:not(:disabled) {
  background-color: var(--button-primary-hover) !important;
}

.btn-primary:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

.btn-primary:focus {
  outline: 2px solid var(--button-primary-bg) !important;
  outline-offset: 2px !important;
}

/* Tailwind 工具类 - 主要操作按钮（使用主题颜色） */
.bg-primary {
  background-color: var(--button-primary-bg) !important;
}

.text-primary {
  color: var(--button-primary-text) !important;
}

.hover\:bg-primary-hover:hover {
  background-color: var(--button-primary-hover) !important;
}
